#
# JetMET integration testing file for single fixed pt pions.
# Reconstruction for Jets and MET only.
#

process T  = {

include "Configuration/JetMET/data/calorimetry-gen-Zprime_Dijets_700.cff"
replace PythiaSource.maxEvents = 100

  include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10
  
   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 123456789
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 98765432
	 untracked uint32 g4SimHits  = 11
	 untracked uint32 mix        = 12345   
      }
   }

// calibrations
include "Configuration/StandardSequences/data/FakeConditions.cff"

include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
   replace VtxSmeared.SigmaX = 0.
   replace VtxSmeared.SigmaY = 0.
   replace VtxSmeared.SigmaZ = 0.

include "SimG4Core/Configuration/data/SimG4Core.cff"

include "SimGeneral/MixingModule/data/mixNoPU.cfi"

include "SimCalorimetry/Configuration/data/SimCalorimetry.cff"

include "RecoLocalCalo/Configuration/data/RecoLocalCalo.cff"

include "RecoJets/Configuration/data/RecoJets.cff"

//include "RecoMET/Configuration/data/RecoMET.cff"

   service = Timing { }
    module myTimer = Timer{
        // whether to include timing info about Timer itself
        untracked bool includeSelf = false
    }


path p = {
   VtxSmeared, g4SimHits, mix, 
   calDigi, 
   calolocalreco, caloTowersRec, 
   recoJets,  recoGenJets,
//   metreco
   myTimer
}
   module out = PoolOutputModule 
   { 
     untracked string fileName = "/data/fedor/calorimetry-gen-Zprime_Dijets_700_tmp.root"
//     untracked string fileName = "all-in-one-particlegun.root"
   }

   endpath outpath = {out}

   schedule = {p,outpath}

}

