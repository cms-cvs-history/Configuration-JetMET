process ALL = 
{

untracked PSet maxEvents = {untracked int32 input = 1}

  module out = PoolOutputModule
  { 
    untracked string fileName = "all-in-one-particlegun.root"
  }

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.fwkJobReports = {"reco-application-calorimetry-all.log.xml"}
 
  service = RandomNumberGeneratorService
  {
    untracked uint32 sourceSeed = 98765
      PSet moduleSeeds = 
      {
         untracked uint32 g4SimHits = 9876
         untracked uint32 VtxSmeared = 123456789 
	 untracked uint32 ecalUnsuppressedDigis = 1234 
         untracked uint32 hcalDigis = 1234
      }
 } 

service = Tracer { untracked string indention = "$$"}
  
  include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"         

  include "Configuration/JetMET/data/calorimetry-gen-particlegun.cff"
  include "Configuration/JetMET/data/calorimetry-simulation.cff"
  include "Configuration/JetMET/data/calorimetry-digitization.cff"
  include "Configuration/JetMET/data/calorimetry-reconstruction.cff"
  include "Configuration/JetMET/data/calorimetry-caltowers.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet-gen.cff"
  include "Configuration/JetMET/data/calorimetry-jetmetcorrections.cff"

  path p1 = {VtxSmeared, simulation, (caloDigi, caloReco, caloTowersRec, caloJetMet, caloJetMetCorrections) &  caloJetMetGen}

  endpath e = { out }
}
